# Breaking Changes since 4/24/2018 
* Additional Q&A about breaking changes can be found [here](./breaking-changes.md) 
* To ask a question about breaking changes [use this](https://aka.ms/ask/ibiza-breaking-change)  


## 5.0.302.1257
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2792135'>2792135</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2792135'>Enforce minimum bake time of 30 minutes for EV2 hosting service deployments.</a><p><div>EV2 (content unbundler) deployment templates now have a minimum monitor duration (aka bake time) of 30 minutes (PT30M).&nbsp; This was done to reduce failures caused by missing/late monitoring health reports which cause deployment failures.</div><div><br></div><div>If you need to deploy faster than 30 minutes then consider using the skip safe deployment feature (see <a href="https://github.com/Azure/portaldocs/blob/master/portal-sdk/generated/portalfx-extension-hosting-service-advanced.md#faqs" aria-label="CTRL+Click or CTRL+Enter to follow link https://github.com/Azure/portaldocs/blob/master/portal-sdk/generated/portalfx-extension-hosting-service-advanced.md#faqs">Deploy FAQ</a> section in the Portal Documentation)<br><div></p></td></tr></table>

## 5.0.302.1237
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2628842'>2628842</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2628842'>[No-PDL] Support custom SVG paths for gallery metadata</a><p></div><div>Part decorators have updated their galarryMetadata.thumbnail syntax. They now require that you either use a built-in SVG by using the `SvgType` enum instead of the `<span style="display:inline !important;float:none;background-color:transparent;color:rgb(34, 34, 34);font-family:Segoe UI,Helvetica Neue,Helvetica,Arial,Verdana;font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;orphans:2;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;">MsPortalFx.Base.Images` </span>members, or that you specify a relative path to the custom SVG in the file system. For example, the new syntax is:</div><div>```</div><div> &nbsp;&nbsp;&nbsp; @TemplatePart.Decorator({<br></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; galleryMetadata: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; title: ClientResources.noPdlGeneralGalleryPartTitle,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; category: ClientResources.partGalleryCategorySample,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; thumbnail: {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; image: TemplatePart.SvgType.Favorite, //previously this was &quot;MsPortalFx.Base.Images.<span style="display:inline !important;float:none;background-color:transparent;color:rgb(34, 34, 34);font-family:Segoe UI,Helvetica Neue,Helvetica,Arial,Verdana;font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;orphans:2;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;">Favorite</span>()&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; // path: &quot;../../../Svg/sample.svg&quot;,&nbsp; //use the &quot;path&quot; property instead of &quot;image&quot; to provide a relative path instead of a built-in image.<br></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; isLogo: true,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stretch: TemplatePart.PartGalleryThumbnailStretch.Fill,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br>&nbsp;&nbsp;&nbsp; })</div><div>```</div><div></p></td></tr></table>

## 5.0.302.1201
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2618098'>2618098</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2618098'>[BREAKING] Update C# test framework to use webdriver 3.12.1 and support Prerelease versions of Edgedriver</a><p></div><div>The Portal C# test framework has been updated to require webdriver version 3.12.1.&nbsp; If you are using an older version of webdriver, please update to version 3.12.1.</div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2604834'>2604834</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2604834'>Replace "disabled" property for "readonly" property to copyableLabel</a><p><div>The &quot;disabled&quot; property of the CopyableLabel control has been re-named to &quot;readOnly&quot;.</div><div>Please update any uses of the CopyableLabel &quot;disabled&quot; property or option to &quot;readOnly&quot;.</div><div>In the portal &quot;disabled&quot; controls can not be focused by keyboard while &quot;readOnly&quot; controls can be focused by keyboard.</div><div>The old &quot;disabled&quot; property of the CopyableLabel allowed keyboard focus.</div><div>It has been renamed to &quot;readOnly&quot; since this was its actual behavior.</div><div>In the future a new &quot;disabled&quot; property may be added to the CopyableLabel that will disable keyboard access.</div><div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2590921'>2590921</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2590921'>MonitorChartV2: Change Visualization contract to be simpler and remove bugs associated with updating observables</a><p> The visualization field on MonitorChart options used to be a KnockoutObservable&lt;T&gt;|T type. The object itself contains a list of KnockoutObservable&lt;T&gt;|T type members. This outer knockoutobservable wasn't working and any updates to the knockout was resulting in the chart getting deleted. We simplified this my making the visualization field on the options just a plain T type. This doesn't break any existing extensions as they were not using this optional field.&nbsp; </p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2575450'>2575450</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2575450'>[Breaking] Generate image resources file as AMD</a><p>To improve performance of extension loads, the Azure Portal SDK tooling for generating code for image paths will now produce an AMD module. Refer to this PR for an example of the kind of changes you will need to make: https://msazure.visualstudio.com/One/_git/AzureUX-PortalFx/pullrequest/889628?_a=overview</p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2482986'>2482986</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2482986'>[Pill] the createEditor() should have lifetimeManager as param for API consistency</a><p></div><div>a lifetimeManager is provided as param to Pill control's option createEditor(editorLifetime: MsPortalFx.Base.DisposableLifetimeManager) for preventing leaking and API consistency purpose.</div><div><div>All control view models for editing should be instantiated with 'editorLifetime'</div></div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2476243'>2476243</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2476243'>[Inherited Subscriptions] Non-persistent subscription filter shows all (selected and unselected) subscriptions when dropdown is opened a second time.</a><p></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2458697'>2458697</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2458697'>Obsolete  MsPortalFx.throttle & MsPortal.debouncer </a><p></div><div><p style="margin-bottom:1em;padding:0px;border:0px;font-stretch:inherit;font-size:15px;line-height:inherit;font-family:&quot;Segoe UI&quot;, &quot;Segoe UI Web&quot;, &quot;Segoe UI Symbol&quot;, &quot;Helvetica Neue&quot;, &quot;BBAlpha Sans&quot;, &quot;S60 Sans&quot;, Arial, sans-serif;vertical-align:baseline;clear:both;color:rgb(36, 39, 41);"><code style="margin:0px;padding:1px 5px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;font-stretch:inherit;font-size:13px;line-height:inherit;font-family:Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif;vertical-align:baseline;background-color:rgb(239, 240, 241);white-space:pre-wrap;">MsPortalFx.debounce</code>&nbsp;is now obsolete. Here's what you'll see in MsPortalFx.d.ts:</p></div><div><pre style="margin-top:0px;margin-bottom:1em;padding:5px;border:0px;font-stretch:inherit;font-size:13px;line-height:inherit;font-family:Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif;vertical-align:baseline;width:auto;max-height:600px;overflow:auto;background-color:rgb(239, 240, 241);word-wrap:normal;color:rgb(36, 39, 41);"><code style="margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;font-stretch:inherit;line-height:inherit;font-family:Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif;vertical-align:baseline;white-space:inherit;">/**
 * Note: Obsolete. Please contact ibizaperfv@microsoft.com if you need this functionality.(5/15/2018, Will removed after 4 month)
 ...
 */
const debounce: Obsolete;</code></pre></div><div><span style="color:rgb(36, 39, 41);font-family:&quot;Segoe UI&quot;, &quot;Segoe UI Web&quot;, &quot;Segoe UI Symbol&quot;, &quot;Helvetica Neue&quot;, &quot;BBAlpha Sans&quot;, &quot;S60 Sans&quot;, Arial, sans-serif;font-size:15px;">We recommend using Knockout's built-in capabilities for this:</span></div><div><a href="http://knockoutjs.com/documentation/rateLimit-observable.html" rel="nofollow noreferrer" style="margin:0px;padding:0px;border:0px;font-stretch:inherit;font-size:15px;line-height:inherit;font-family:&quot;Segoe UI&quot;, &quot;Segoe UI Web&quot;, &quot;Segoe UI Symbol&quot;, &quot;Helvetica Neue&quot;, &quot;BBAlpha Sans&quot;, &quot;S60 Sans&quot;, Arial, sans-serif;vertical-align:baseline;color:rgb(101, 165, 216);text-decoration-line:none;cursor:pointer;">http://knockoutjs.com/documentation/rateLimit-observable.html</a></div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2448364'>2448364</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2448364'>Update ADAL Library to support ADFS</a><p></span><div>The version of Newtonsoft.Json has been updated from 8.0.3 to 10.0.3</div><div><span style="color:black;font-family:&quot;Segoe UI&quot;, sans-serif;font-size:10pt;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2202487'>2202487</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2202487'>Generate Manifest.ts as JSON at build-time</a><p>Refer to these PRs for the PDL and no-PDL view model changes needed:<br><div>https://msazure.visualstudio.com/One/_git/AzureUX-PortalFx/commit/573381df316cb6b5c35fce4fa826513f86e5d4e0?refName=refs%2Fheads%2Fdev</div><div><br></div><div>https://msazure.visualstudio.com/One/_git/AzureUX-PortalFx/commit/698b41b39bddc4d07ca5bde7c5c58da9b7ad13cb?refName=refs%2Fheads%2Fdev</div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2187318'>2187318</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2187318'>[ResourceGroupDropDown] Remove defaultNewValue option</a><p><div>The defaultNewValue options is being removed from resource group for consistency and performance reasons.<br><div></p></td></tr></table>

## 5.0.302.1182
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2476243'>2476243</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2476243'>[Inherited Subscriptions] Non-persistent subscription filter shows all (selected and unselected) subscriptions when dropdown is opened a second time.</a><p></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2393200'>2393200</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2393200'>Cleanup Framework.Tests</a><p>_SiteLayout.cshtml of the portal's Framework.Tests unit test project has been modified to support changes to the framework. If you have a fork of the unit test project, you will need to update _SiteLayout.cshtml. Refer to this change for details: https://msazure.visualstudio.com/One/_git/AzureUX-PortalFx/pullrequest/791005?_a=files&amp;path=%2Fsrc%2FSDK%2FFramework.Tests.Server%2F_SiteLayout.cshtml</p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2391308'>2391308</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2391308'>filter time granularity and timespan range updates.</a><p><div>The Month and Year enums on the TimeUnit enum have been removed.&nbsp; Replace those with equivalent Day and Week units and durations.</div><div><br></div><div>The TimeGranularity enum has been reworked to match the granularities supported by app insights.</div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2355789'>2355789</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2355789'>Remove internal fx.environment properties</a><p>Several properties in fx.environment have been removed because they are not intended to be used by extension code. Please contact wimoy@microsoft.com for help on resolving the breaks.</p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2341632'>2341632</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2341632'>fx.environment should generate AppRelativePaths</a><p>Previously, the fx.environment properties clientTraceUri, telemetryUri, and localGalleryPackageEndpoint <span style="display:inline !important;float:none;background-color:rgb(255, 255, 255);color:rgb(34, 34, 34);font-family:Segoe UI,Helvetica Neue,Helvetica,Arial,Verdana;font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;orphans:2;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;">were stored in site relative form. They </span>are now stored in application relative form. For example, for the <span style="display:inline !important;float:none;background-color:rgb(255, 255, 255);color:rgb(34, 34, 34);font-family:Segoe UI,Helvetica Neue,Helvetica,Arial,Verdana;font-size:14px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;orphans:2;text-align:left;text-decoration:none;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;">localGalleryPackageEndpoint property, the value has been changed from &quot;/application/api/DevModeGallery/MenuItems&quot; to &quot;api/DevModeGallery/MenuItems&quot;.</span></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2340543'>2340543</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2340543'>Cleanup EnvironmentProvider</a><p>The CurrentPageVersion property has been removed from PortalRequestContext. Use ApplicationContext.PageVersion instead.</p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2288302'>2288302</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=2288302'>Hide environment from extensions, expose API to access the environment</a><p><div>&nbsp; &nbsp; &nbsp;This change removes the environment object from window.fx. In order to access the environment parameters, just change accesses of the environment from window.fx.someValueHere to MsPortalFx.getEnvironmentValue(&quot;someValueHere&quot;). The typing will validate on both the input value and the return value so it is still type safe.</div><div><br></div><div>&nbsp; &nbsp; Other value have been moved from fx.environment to MsPortalFx, such as isDevelopmentMode.&nbsp;</div><div><ul><li>fx.environment.isDevelopmentMode -&gt; MsPortalFx.isDevelopmentMode</li><li>fx.environment.isTestMode -&gt; MsPortalFx.isTestMode</li><li>fx.environment.inWebWorker -&gt; MsPortalFx.isInWebWorker</li><li>fx.environment.sessionId -&gt; MsPortalFx.sessionId</li><li>fx.environment.trace -&gt; MsPortalFx.trace</li><li>fx.environment.trustedParentOrigin -&gt; MsPortalFx.portalUri</li></ul><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=1581577'>1581577</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=1581577'>remove ted videos unless we can find a cookie free option</a><p><div>Due to a lack of use by extensions, the Video tile no longer offers dedicated support for TED Talk video links.</div><div><br></div><div>YouTube, Channel 9, and direct links to HTML 5 video formats (ex: MP4) remain supported.<br><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=1577996'>1577996</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=1577996'>[DropDown] Items property and options should be typed for observable array</a><p></div><ul><li>import FxDropDown = require(&quot;Fx/Controls/DropDown&quot;);</li><ul><li>FxDropDown.items is now of type&nbsp;KnockoutObservableArray&lt;Item&lt;TValue&gt; | Group&lt;TValue&gt;&gt;;</li><li>i.e. transitioned to observable array from base observable of regular arrays.</li><li><i>Note: </i>older drop-down implementations do not benefit from this change, as it only applies to the latest one.<br></li></ul></ul><div></p></td></tr></table>