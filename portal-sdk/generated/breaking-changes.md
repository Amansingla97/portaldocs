# Breaking Changes since 1/18/2017 
* Additional Q&A about breaking changes can be found [here](./breaking-changes.md) 
* To ask a question about breaking changes [use this](https://aka.ms/ask/ibiza-breaking-change)  


## 5.0.302.726
<table><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=9004810'>9004810</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=9004810'>Quality: Unify all use of memoize with () => Q.Promise to memoizeQ & provide the debugability for it.</a><p></p>
<p>&nbsp;&nbsp; obsolete momizePromise.&nbsp; Replace with memoizeQ and leverage Q functionality to clear the cached value when Promise is rejected.&nbsp; Provide the logging to log a entry when that the cache is drop due to the rejected.&nbsp; Such that multi-retry on a function to promise which rejected multiple time will be recorded as error.</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp; memoize(callback) is been improved to have onError call back such that memoize on the callback that throw doesn't throw out of it during the Script initialization.&nbsp; Instead,by default it will log a unhandle rejetion.&nbsp; Or the caller can provided an optional onError callback.</p>
<p></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8710835'>8710835</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8710835'>Ship new forms</a><p><div>The DropDown.Options in the &quot;Fx/Controls/DropDown&quot; module has changed to align more closely with the new form controls create pattern. &nbsp;If you encounter a build error due to this change, you can instead use the DropDown.ObsoleteOptions interface in the same module.</div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8708537'>8708537</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8708537'>Remove step gauge</a><p>StepGauge control is unused by any extensions so it is being removed from the framework</p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8649060'>8649060</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8649060'>[Perf] Add PDL check to prevent extension authors from including more than one <StyleSheet> directly on the extension definition</a><p></div><div><br></div><div>A new PDL warning has been added to warn developers when they are adding more than one StyleSheet directly on the ExtensionDefinition, which is downloaded during extension load.</div><div><br></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px;"><div><div>PDL0312</div><div>More than {0} stylesheet has been referenced directly on the Extension Definition. &nbsp;This means that more than one &amp;lt;StyleSheet&amp;gt; tag has been declared outside a part, control or blade definition in a .pdl file, and so these StyleSheets will be downloaded and injected in the DOM during extension load. &nbsp;The recommended fix is to move these orphan &amp;amp;lt;StyleSheet&amp;amp;gt; tags into the definitions of the parts/controls/blades that need it. &nbsp;If, however, you have a small subset of CSS rules that apply to a very large number of parts/controls/blades and want to load these during extension load, you are allowed to use a single &amp;lt;StyleSheet&amp;gt; outside a part/control/blade definition and this error will not show up; be aware that going this way means downloading this CSS and the subsequent browser style recalculation (which happens regardless of what your CSS targets) will both be part of your extension load process. &nbsp;The files that are currently imported directly on the Extension Definition are : '{1}'.</div></div></blockquote><div><br></div><div>This has been added because having multiple StyleSheets on the ExtensionDefinition means a lot of styles get downloaded upfront regardless of what blade / part triggered the extension load, which is bad for performance. &nbsp;Also, we've noticed a lot of StyleSheets meant for a specific CustomPart or TemplateBlade ended up on the ExtensionDefinition because the &lt;StyleSheet&gt; reference was not placed inside said CustomPart/TemplateBlade but right above or under in that same PDL file.</div><div><br></div><div>The fix to get rid of this warning is to</div><div><br></div><div><span style="font-weight:bold;">a) Move part/blade-specific StyleSheets to their part/blade owner;</span></div><div><br></div><div>Before :<br><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</div><div>&lt;Definition</div><div>&nbsp; &nbsp; xmlns=&quot;http://schemas.microsoft.com/aux/2013/pdl&quot;</div><div>&nbsp; &nbsp; xmlns:azurefx=&quot;http://schemas.microsoft.com/aux/2013/pdl/azurefx&quot;</div><div>&nbsp; &nbsp; xmlns:hubs=&quot;http://schemas.microsoft.com/aux/2013/pdl/azurefxhubs&quot;</div><div>&nbsp; &nbsp; Area=&quot;Help&quot;&gt;</div><div>&nbsp;&nbsp;</div><div><span style="font-weight:bold;">&nbsp; &lt;StyleSheet Source=&quot;{Css Source='WhatsNew.css'}&quot; /&gt;</span></div><div><br></div><div>&nbsp; &lt;Blade Name=&quot;WhatsNewBlade&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Style=&quot;Help&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ViewModel=&quot;WhatsNewBlade&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Locked=&quot;true&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pinnable=&quot;true&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;InitialDisplayState=&quot;Maximized&quot;&gt;</div><div>&nbsp; &nbsp; &lt;Blade.Items&gt;</div><div>&nbsp; &nbsp; &nbsp; &lt;PinnedPart PartType=&quot;WhatsNewTile&quot; /&gt;</div><div>&nbsp; &nbsp; &nbsp; &lt;Lens Name=&quot;WhatsNewLens&quot;&gt;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &lt;CustomPart Name=&quot;WhatsNewDetailsTile&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ViewModel=&quot;WhatsNewDetailsViewModel&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Template=&quot;{Html Source='Templates\\WhatsNewDetailsTemplate.html'}&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InitialSize=&quot;FullWidthFitHeight&quot;&gt;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/CustomPart&gt;</div><div>&nbsp; &nbsp; &nbsp; &lt;/Lens&gt;</div><div>&nbsp; &nbsp; &lt;/Blade.Items&gt;</div><div>&nbsp; &lt;/Blade&gt;</div><div><br></div><div>&lt;/Definition&gt;</div></div><div><br></div><div>After :</div><div><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</div><div>&lt;Definition</div><div>&nbsp; &nbsp; xmlns=&quot;http://schemas.microsoft.com/aux/2013/pdl&quot;</div><div>&nbsp; &nbsp; xmlns:azurefx=&quot;http://schemas.microsoft.com/aux/2013/pdl/azurefx&quot;</div><div>&nbsp; &nbsp; xmlns:hubs=&quot;http://schemas.microsoft.com/aux/2013/pdl/azurefxhubs&quot;</div><div>&nbsp; &nbsp; Area=&quot;Help&quot;&gt;</div><div>&nbsp;&nbsp;</div><div>&nbsp; &lt;Blade Name=&quot;WhatsNewBlade&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Style=&quot;Help&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ViewModel=&quot;WhatsNewBlade&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Locked=&quot;true&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pinnable=&quot;true&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;InitialDisplayState=&quot;Maximized&quot;&gt;</div><div>&nbsp; &nbsp; &lt;Blade.Items&gt;</div><div>&nbsp; &nbsp; &nbsp; &lt;PinnedPart PartType=&quot;WhatsNewTile&quot; /&gt;</div><div>&nbsp; &nbsp; &nbsp; &lt;Lens Name=&quot;WhatsNewLens&quot;&gt;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &lt;CustomPart Name=&quot;WhatsNewDetailsTile&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ViewModel=&quot;WhatsNewDetailsViewModel&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Template=&quot;{Html Source='Templates\\WhatsNewDetailsTemplate.html'}&quot;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InitialSize=&quot;FullWidthFitHeight&quot;&gt;</div><div><span style="font-weight:bold;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;StyleSheet Source=&quot;{Css Source='WhatsNew.css'}&quot; /&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/CustomPart&gt;</div><div>&nbsp; &nbsp; &nbsp; &lt;/Lens&gt;</div><div>&nbsp; &nbsp; &lt;/Blade.Items&gt;</div><div>&nbsp; &lt;/Blade&gt;</div><div><br></div><div>&lt;/Definition&gt;</div></div><div><br></div><div><br></div><div><span style="font-weight:bold;">b) Consolidate remaining &quot;common&quot; CSS rules inside a single StyleSheet.</span></div><div><br></div><div>Before :</div><div><span style="font-weight:bold;">&nbsp; &nbsp; SmallImage.css</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; .ext-small-image { height: 16px }<br><span style="font-weight:bold;">&nbsp; &nbsp; BigImage.css</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; .ext-big-image { height :32px; }</div><div>After :<br><span style="font-weight:bold;">&nbsp; &nbsp; Common.css</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; .ext-small-image { height: 16px }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; .ext-big-image { height :32px; }</div><div><br></div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8483863'>8483863</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8483863'>[Knockout] Add fxawait and fxonce to the knockout subscribable prototype</a><p><div>MsPortalFx.resolveWhen will resolve jQuery deferred's asynchronously;<br><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8426679'>8426679</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8426679'>[BREAKING] AMDify Paired Timeline</a><p><div>ViewModels.Controls.Visualization.PairedTimeline,&nbsp;ViewModels.Controls.Visualization.PairedTimelineBadges and&nbsp;ViewModels.Controls.Visualization.RangeSelection are now Obsolete.</div><div><br></div><div>Please use&nbsp;Fx/Controls/PairedTimeline,&nbsp;Fx/Controls/PairedTimelineBadges and Fx/Controls/RangeSelection AMD modules instead</div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8393815'>8393815</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8393815'>[Perf] Implement way to prevent us & extension authors to use CSS selectors ending with tags</a><p></div><div><br></div><div>A new PDL warning has been added to warn developers when they are using CSS selectors ending with generic HTML tags.</div><div><br></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px;"><div><div><div>PDL0313</div></div></div><div><div><div>The following StyleSheet contains at least a selector that ends with a common HTML tag, which causes a major style recalculation when inserted in the DOM (browsers evaluate CSS selectors from right to left). &nbsp;Please replace all generic tags by classes. StyleSheet to blame : '{0}'.</div></div></div></blockquote><div><div><br></div><div>This has been added because of performance reasons; we've noticed some extensions had &quot;Recalculate Styles&quot; events during their loading process caused by such CSS selectors, which can spike the CPU for hundreds of milliseconds.</div><div><br></div><div>The fix to get rid of this warning is to replace all instances of generic HTML tags by classes and apply such classes to the targeted elements in your templates; for example :<br><br></div><div>\HubsExtension\Deployments\Templates\TemplateViewer.html</div><div><div>&nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a </span>href=&quot;#&quot; data-bind=&quot;text: templateTab.title, css: templateTab.css, click: templateClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a </span>href=&quot;#&quot; data-bind=&quot;text: parametersTab.title, css: parametersTab.css, click: parametersClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;+ &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a </span>class=&quot;<span style="font-weight:bold;">ext-hubs-tabssection-tab</span>&quot; href=&quot;#&quot; data-bind=&quot;text: templateTab.title, css: templateTab.css, click: templateClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;+ &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a </span>class=&quot;<span style="font-weight:bold;">ext-hubs-tabssection-tab</span>&quot; href=&quot;#&quot; data-bind=&quot;text: parametersTab.title, css: parametersTab.css, click: parametersClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- ko if: showLanguageOptions() --&gt;</div><div>&nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> href=&quot;#&quot; data-bind=&quot;text: cliTab.title, css: cliTab.css, click: cliClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> href=&quot;#&quot; data-bind=&quot;text: cli2Tab.title, css: cli2Tab.css, click: cli2Click&quot;&gt;&lt;/a&gt;</div><div>&nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> href=&quot;#&quot; data-bind=&quot;text: powershellTab.title, css: powershellTab.css, click: powershellClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> href=&quot;#&quot; data-bind=&quot;text: dotNetTab.title, css: dotNetTab.css, click: dotNetClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> href=&quot;#&quot; data-bind=&quot;text: rubyTab.title, css: rubyTab.css, click: rubyClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> class=&quot;<span style="font-weight:bold;">ext-hubs-tabssection-tab</span>&quot; href=&quot;#&quot; data-bind=&quot;text: cliTab.title, css: cliTab.css, click: cliClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> class=&quot;<span style="font-weight:bold;">ext-hubs-tabssection-tab</span>&quot; href=&quot;#&quot; data-bind=&quot;text: cli2Tab.title, css: cli2Tab.css, click: cli2Click&quot;&gt;&lt;/a&gt;</div><div>&nbsp;+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> class=&quot;<span style="font-weight:bold;">ext-hubs-tabssection-tab</span>&quot; href=&quot;#&quot; data-bind=&quot;text: powershellTab.title, css: powershellTab.css, click: powershellClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> class=&quot;<span style="font-weight:bold;">ext-hubs-tabssection-tab</span>&quot; href=&quot;#&quot; data-bind=&quot;text: dotNetTab.title, css: dotNetTab.css, click: dotNetClick&quot;&gt;&lt;/a&gt;</div><div>&nbsp;+ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="font-weight:bold;">a</span> class=&quot;<span style="font-weight:bold;">ext-hubs-tabssection-tab</span>&quot; href=&quot;#&quot; data-bind=&quot;text: rubyTab.title, css: rubyTab.css, click: rubyClick&quot;&gt;&lt;/a&gt;</div></div><div><br></div><div>\HubsExtension\Deployments\TemplateViewer.css</div><div><div>&nbsp;- .ext-hubs-tabssection <span style="font-weight:bold;">a</span> {</div><div>&nbsp;+ <span style="font-weight:bold;">.ext-hubs-tabssection-tab</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp;padding: 4px 10px 8px;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp;text-decoration: none;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp;display: inline-block;</div></div><div><br></div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8384752'>8384752</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8384752'>Move current Blade 'Container' interface from the Fx/Composition/Blade module into the Fx/Composition/Pdl/Blade module</a><p><div>The PDL Blade 'Container' type that was available in the Fx/Composition/Blade module has been relocated to a new Fx/Composition/<i><b>Pdl</b></i>/Blade module.</div><div><br></div><div>For PDL-defined Blades, in Blade view model TypeScript code, extensions will have to update their:</div><div>&nbsp; &nbsp; import * as FxCompositionBlade from &quot;Fx/Composition/Blade&quot;;</div><div>to be:&nbsp;</div><div>&nbsp; &nbsp; import * as FxCompositionBlade from &quot;Fx/Composition/<i><b>Pdl</b></i>/Blade&quot;;</div><div><br></div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8384604'>8384604</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8384604'>BREAKING: remove Stopwatch namespace</a><p>No description available for this breaking change.</p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8320650'>8320650</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8320650'>Performance: remvoe jquery .hide and .show from Typescript.ts due to poor performance</a><p></font></font></p>
<p><font color="#008000" face=Consolas>&nbsp; Removing JQuery show/hide/toggle from the typescript definition due to it performance issue.</font></p>
<p><font color="#008000" face=Consolas>&nbsp;&nbsp;Detail: <a href="https://twitter.com/paul_irish/status/564443848613847040?lang=en">https://twitter.com/paul_irish/status/564443848613847040?lang=en</a></font></p>
<p><font color="#008000" face=Consolas>&nbsp;<a href="https://github.com/jquery/jquery.com/issues/88#issuecomment-72400007">https://github.com/jquery/jquery.com/issues/88#issuecomment-72400007</a></font></p>
<p><font color="#008000" face=Consolas></font>&nbsp;</p>
<p><font color="#008000" face=Consolas>JQuery end up doesn't fix the perf issue.&nbsp; In light of this, we disable these function from typescript definition.&nbsp; We should opt for CSS for better performance.&nbsp; Thus fxs_display_none display:none !important.</font></p>
<p><font color="#008000" face=Consolas></font>&nbsp;</p>
<p><font color="#008000" face=Consolas>Thus if you are in framework team, you should use MsPortalFx.hide, MsPortal.unhide, MsPortalFx.toogle instead.</font></p>
<p><font color="#008000" face=Consolas></font>&nbsp;</p>
<p><font color="#008000" face=Consolas>In extremely case that you have to use force-render for workaround. (like flex layout with child elements that set display:none.)&nbsp; Please use</font></p>
<p><font color="#008000" face=Consolas>MsPortalFx.forceShow()</font></p>
<p><font color="#008000" face=Consolas>&nbsp; </font></p>
<p><font color="#008000" face=Consolas></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8320597'>8320597</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8320597'>Cache the image object and return same image object where option didn't specified</a><p><div>To improve performance, we have updated to cache the image object and reuse the object. To do this the MsPortalFx.Base.Image was changed to read-only.</div><div><div>&nbsp; &nbsp; export interface Image {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; readonly type: number;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; readonly data?: string;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; readonly palette?: number;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; readonly options?: ImageOptions;</div><div>&nbsp; &nbsp; };</div><div><br></div><div>There will be a typescript compile time error if you try to change image object.</div><div>&nbsp;</div><div>For example, code below is no longer compile, since addTitleImage is read-only.</div><div>const addTitleImage = MsPortalFx.Base.Images.AddTitle();</div><div>addTitleImage.options = { customClass: &quot;msportalfx-contextmenu-grid-small&quot; };</div><div><br></div><div>You can change it to:</div><div>const addTitleImage = MsPortalFx.Base.Images.AddTitle({ customClass: &quot;msportalfx-contextmenu-grid-small&quot; });</div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8167224'>8167224</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8167224'>[Editor] Update Monaco editor to v0.8.1</a><p><div><ul><li>Internal colorful tokens, .warn-token, .error-token and .info-token, no longer exist in editor DOM</li><ul><li>This is not a public API breaking change, but some partner developers used to override these internal CSS classes to meet their requirements</li></ul></ul><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8159184'>8159184</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8159184'>BREAKING: collapse deep namespaces in fx</a><p></div><div>The namespace MsPortalFx.Base.Utilities is now collapsed into MsPortalFx. </div><div>So any APIs that you previously called via MsPortalFx.Base.Utilities.* (like clone or extend) can now just be called like:</div><div>MsPortalFx.*.</div><div>This was done because dereferencing three objects for these calls can be quite expensive especially since these APIs are called frequently.</div><div>Also just creating the three levels of objects is more expensive (and this happens during the load of every extension).</div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8015220'>8015220</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8015220'>Remove obsolete valueUpdateTrigger values</a><p>No description available for this breaking change.</p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8014953'>8014953</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8014953'>Put 'obsolete' in the name of the old dropdown classes</a><p>No description available for this breaking change.</p></td></tr></table>

## 5.0.302.713
<table><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=5965002'>5965002</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=5965002'>Update to Windows Server 2016 & Azure SDK 2.9</a><p></div><div>If your extension is running as a cloud service and you are using&nbsp;Ibiza Framework DLLs, then this may require your&nbsp;extension to also upgrade to Azure SDK 2.9. (Note that upgrading&nbsp;your extension's cloud service to Windows Server 2016 is not required, and is controlled separately in your .cscfg files.)</div><div><br></div><div>The upgrade from Azure SDK 2.7 to 2.9 has no known breaking changes, as per https://docs.microsoft.com/en-us/azure/app-service-web/azure-sdk-dotnet-release-notes .</div><div></p></td></tr></table>

## 5.0.302.701
<table><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8384752'>8384752</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8384752'>Move current Blade 'Container' interface from the Fx/Composition/Blade module into the Fx/Composition/Pdl/Blade module</a><p><div>The PDL Blade 'Container' type that was available in the Fx/Composition/Blade module has been relocated to a new Fx/Composition/<i><b>Pdl</b></i>/Blade module.</div><div><br></div><div>For PDL-defined Blades, in Blade view model TypeScript code, extensions will have to update their:</div><div>&nbsp; &nbsp; import * as FxCompositionBlade from &quot;Fx/Composition/Blade&quot;;</div><div>to be:&nbsp;</div><div>&nbsp; &nbsp; import * as FxCompositionBlade from &quot;Fx/Composition/<i><b>Pdl</b></i>/Blade&quot;;</div><div><br></div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8320597'>8320597</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8320597'>Cache the image object and return same image object where option didn't specified</a><p><div>To improve performance, we have updated to cache the image object and reuse the object. To do this the MsPortalFx.Base.Image was changed to read-only.</div><div><div>&nbsp; &nbsp; export interface Image {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; readonly type: number;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; readonly data?: string;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; readonly palette?: number;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; readonly options?: ImageOptions;</div><div>&nbsp; &nbsp; };</div><div><br></div><div>There will be a typescript compile time error if you try to change image object.</div><div>&nbsp;</div><div>For example, code below is no longer compile, since addTitleImage is read-only.</div><div>const addTitleImage = MsPortalFx.Base.Images.AddTitle();</div><div>addTitleImage.options = { customClass: &quot;msportalfx-contextmenu-grid-small&quot; };</div><div><br></div><div>You can change it to:</div><div>const addTitleImage = MsPortalFx.Base.Images.AddTitle({ customClass: &quot;msportalfx-contextmenu-grid-small&quot; });</div><div></p></td></tr></table>

## 5.0.302.678
<table><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8165885'>8165885</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8165885'>Save at least 15bytes in Fx for 30bytes in Website. Use const enum instead of enum in provisioner.ts maintaining runtime compatibility.</a><p></div><div>Two enums in provisioner.ts have been changed from enums to const enums. For back compat an extra obsolete enum has been created so runtime usage of the string values will continue to work. However, at compile time if you have captured the enum that will break:</div><div><br></div><div>e.g.</div><div><br></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const AllFeatures = MsPortalFx.Azure.ResourceManager.Provisioner.CreateFeatures;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ok(!!(createFeatures &amp; AllFeatures.EnableArmValidation), &quot;Opt in flag is set.&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ok(!(createFeatures &amp; AllFeatures.DisableArmValidation), &quot;Opt out flag is not set.&quot;);<br>&nbsp;</div><div>Will need to change to:</div><div><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const Provisioner = MsPortalFx.Azure.ResourceManager.Provisioner;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ok(!!(createFeatures &amp; Provisioner.CreateFeatures.EnableArmValidation), &quot;Opt in flag is set.&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ok(!(createFeatures &amp; Provisioner.CreateFeatures.DisableArmValidation), &quot;Opt out flag is not set.&quot;);<br></div><div><br></div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8043982'>8043982</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=8043982'>Opening New Activity log blade for client notifications</a><p>No description available for this breaking change.</p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7979062'>7979062</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7979062'>BREAKING: limit the number of client events per session per extension to 1k</a><p>No description available for this breaking change.</p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7905948'>7905948</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7905948'> migrate to typescript 2.0</a><p><div>For new features, check out the What's new in TypeScript 2.0:</div><div><br></div><div>https://github.com/Microsoft/TypeScript/wiki/What's-new-in-TypeScript#typescript-20</div><div><br></div><div>For breaking changes, check out the Breaking changes in TypeScript 2.0 page:</div><div><br></div><div>https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#typescript-20</div><div><br></div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7793352'>7793352</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7793352'>extension metadata classes should be immutable. otherwise it leads to inconsistent results</a><p>No description available for this breaking change.</p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7701071'>7701071</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7701071'>Resource Move: '->Move' command popup option [move to another subscription, move to another resource group] on individual resources</a><p></div><div>&nbsp; &nbsp; Move command on resource blade will open a popup with two &nbsp; &nbsp; &nbsp; options:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Move to another resource group</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Move to another subscription</div><div>&nbsp; &nbsp; Clicking on either of the options will launch the move resource blade in that respective context.&nbsp;</div><div></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7675264'>7675264</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7675264'>Obsolete bundles in Framework to deprecate PC v1, v2</a><p><br>As part of making PCv1/v2 legacy, we are making changes to limit the performance costs of this functionality to only extensions that are using them.</p><p>Link to docs explaining what you need to do: <a href="https://github.com/Azure/portaldocs/blob/334634c8a7601f729c4ee6fa673eb00d25045c60/portal-sdk/generated/portalfx-extension-reference-obsolete-bundle.md">https://github.com/Azure/portaldocs/blob/334634c8a7601f729c4ee6fa673eb00d25045c60/portal-sdk/generated/portalfx-extension-reference-obsolete-bundle.md</a> <br></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7620786'>7620786</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7620786'>[PIR][Incident][RCA] Add deployment validation to check that shell and hubs server side can make outgoing requests </a><p></span></div>
<div><span style="FONT-SIZE:11pt;FONT-FAMILY:&quot;Calibri&quot;,sans-serif;">The IDiagnosticsContributor.GetDiagnostics()&nbsp;method now returns&nbsp;a Task&lt;IReadOnlyDictionary&lt;string, object&gt;&gt; instead of IReadOnlyDictionary&lt;string, object&gt;. This is to allow implementers to&nbsp;execute async&nbsp;calls before returning the diagnostics information. If your extension implements this method, you will need to change the return type appropriately.</span></div>
<div><span style="FONT-SIZE:11pt;FONT-FAMILY:&quot;Calibri&quot;,sans-serif;"></p></td></tr><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7426345'>7426345</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7426345'>[Auth] Add onbaording AAD service principal for ibiza managed extension to client's tenant.</a><p></p><div class=WordSection1><p class=MsoNormal style="MARGIN-BOTTOM:0pt;LINE-HEIGHT:normal;TEXT-AUTOSPACE:;"><br></p><p class=MsoNormal style="MARGIN-BOTTOM:0pt;LINE-HEIGHT:normal;TEXT-AUTOSPACE:;">Added new package dependency</p><p class=MsoNormal style="MARGIN-BOTTOM:0pt;LINE-HEIGHT:normal;TEXT-AUTOSPACE:;">- Microsoft.Azure.ActiveDirectory.GraphClient version 2.1.1</p><p class=MsoNormal style="MARGIN-BOTTOM:0pt;LINE-HEIGHT:normal;TEXT-AUTOSPACE:;"><br></p><p class=MsoNormal style="MARGIN-BOTTOM:0pt;LINE-HEIGHT:normal;TEXT-AUTOSPACE:;">Updates to these packages should be made as follows:<br></p><p class=MsoNormal style="MARGIN-BOTTOM:0pt;LINE-HEIGHT:normal;TEXT-AUTOSPACE:;">- Microsoft.Data.Edm from 5.6.2 to 5.6.3<br>- Microsoft.Data.OData from 5.6.2 to 5.6.3<br>- Microsoft.Data.Services.Client from 5.6.2 to 5.6.3<br>- System.Spatial from 5.6.2 to 5.6.3</p><p class=MsoNormal style="MARGIN-BOTTOM:0pt;LINE-HEIGHT:normal;TEXT-AUTOSPACE:;"><br></p><p class=MsoNormal style="MARGIN-BOTTOM:0pt;LINE-HEIGHT:normal;TEXT-AUTOSPACE:;"></p></td></tr></table>

## 5.0.302.600
<table><tr><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7701071'>7701071</a></td><td><a href='http://vstfrd:8080/Azure/RD/_workitems#_a=edit&id=7701071'>Resource Move: '->Move' command popup option [move to another subscription, move to another resource group] on individual resources</a><p>[BREAKING]</p></td></tr></table>